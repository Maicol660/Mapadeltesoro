import{a as L}from"./chunk-5JMYCM5A.js";import{a as T,b as j}from"./chunk-CBOGP4SY.js";import"./chunk-P6KNLL6L.js";import"./chunk-DTIGDIZS.js";import"./chunk-JDJQHH36.js";import"./chunk-YMI2B6JE.js";import"./chunk-EUAYOWCV.js";import"./chunk-HC6MZPB3.js";import"./chunk-KY44HUZY.js";import"./chunk-FERD25SW.js";import"./chunk-7EU7YSXT.js";import"./chunk-LEIMCQKJ.js";import"./chunk-FBKML27E.js";import"./chunk-BZ2JL7UE.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-X2QPNJJT.js";import"./chunk-MCRJI3T3.js";import"./chunk-CFB5J7SD.js";import"./chunk-57MY6KJY.js";import{A as h,E as y,F as f,Ia as N,Ja as A,Ka as F,La as R,N as l,Na as V,P as b,Q as x,R as _,ca as M,g as d,h as c,ia as P,ja as O,ka as v,la as S,ma as k,n as w,o as u,p as g,pa as I,qa as E,r as C,y as i,z as o}from"./chunk-PPCAKVPI.js";import"./chunk-AJRJM3GE.js";import"./chunk-LZ7SBWCG.js";import"./chunk-TUGWCBA4.js";import"./chunk-KGPV7ALX.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-LB2OG3QI.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-RW4GY4BD.js";var U=(()=>{let a=class a{constructor(t,e,n,s){this.router=t,this.authService=e,this.loadingCtrl=n,this.alertCtrl=s,this.username="",this.password=""}clearForm(){this.username="",this.password=""}onLogin(){this.loadingCtrl.create({message:"Iniciando sesi\xF3n...",spinner:"crescent"}).then(t=>{t.present(),this.authService.login(this.username,this.password).subscribe({next:e=>{t.dismiss(),e&&e.success?this.showAlert("\xC9xito",e.message||"Inicio de sesi\xF3n exitoso.").then(()=>{this.clearForm(),this.router.navigate(["/inicio"])}):(this.clearForm(),this.showAlert("Error",(e==null?void 0:e.message)||"Error en el inicio de sesi\xF3n."))},error:()=>{t.dismiss(),this.clearForm(),this.showAlert("Error","Error en el inicio de sesi\xF3n. Por favor, intenta nuevamente.")}})})}onRegister(){this.clearForm(),this.loadingCtrl.create({message:"Cargando...",duration:1e3}).then(t=>{t.present(),this.router.navigate(["/register"]).then(()=>{t.dismiss()})})}showAlert(t,e){return this.alertCtrl.create({header:t,message:e,buttons:["OK"]}).then(n=>n.present())}};a.\u0275fac=function(e){return new(e||a)(g(M),g(L),g(j),g(T))},a.\u0275cmp=C({type:a,selectors:[["app-login"]],decls:23,vars:2,consts:[["loginForm","ngForm"],["href",w`https://fonts.googleapis.com/css2?family=Poetsen+One&display=swap`,"rel","stylesheet"],[1,"login-content"],[1,"main-container"],[1,"auth-container"],[1,"auth-card"],[3,"ngSubmit"],[1,"input-label"],[1,"input-item"],["type","text","name","username","placeholder","Nombre de usuario","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Contrase\xF1a","required","",3,"ngModelChange","ngModel"],["expand","block","shape","round","type","submit",1,"btn-custom"],["expand","block","fill","outline","shape","round",1,"btn-custom","mt-3",3,"click"],[1,"img-container"],["src","https://fortnite-api.com/images/cosmetics/br/spray_springbreak/decal.png",1,"img-pirata"]],template:function(e,n){if(e&1){let s=y();h(0,"link",1),i(1,"ion-content",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2"),l(6,"INICIAR SESI\xD3N"),o(),i(7,"form",6,0),f("ngSubmit",function(){return d(s),c(n.onLogin())}),i(9,"ion-label",7),l(10,"NOMBRE"),o(),i(11,"ion-item",8)(12,"ion-input",9),_("ngModelChange",function(r){return d(s),x(n.username,r)||(n.username=r),c(r)}),o()(),i(13,"ion-label",7),l(14,"CONTRASE\xD1A"),o(),i(15,"ion-item",8)(16,"ion-input",10),_("ngModelChange",function(r){return d(s),x(n.password,r)||(n.password=r),c(r)}),o()(),i(17,"ion-button",11),l(18," INICIAR SESI\xD3N "),o(),i(19,"ion-button",12),f("click",function(){return d(s),c(n.onRegister())}),l(20," REGISTRARSE "),o()()(),i(21,"div",13),h(22,"img",14),o()()()()}e&2&&(u(12),b("ngModel",n.username),u(4),b("ngModel",n.password))},dependencies:[A,N,F,R,V,E,k,P,O,I,S,v],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: url("./media/fondo-TOWAGXJO.png") no-repeat center center / cover;font-family:Poetsen One,sans-serif;display:flex;flex-direction:column;justify-content:center;min-height:100vh;padding:20px;box-sizing:border-box}.auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;padding:20px;box-sizing:border-box}.auth-card[_ngcontent-%COMP%]{background:#fffc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:10px;border:3px solid #5c3a1e;padding:20px;width:90%;max-width:320px;color:#5c3a1e;text-align:center;margin:0 auto;box-shadow:0 4px 16px #0000001a}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;font-weight:700;margin-bottom:20px}ion-item[_ngcontent-%COMP%]{--background: #9d7144b2;--color: white;--border-radius: 5px;--border-color: transparent;--highlight-color-focused: #5c3a1e;--highlight-color: #5c3a1e;--padding-start: 10px;--padding-end: 10px;margin-bottom:15px}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:700;--placeholder-color: #ffffff81;--placeholder-opacity: 1}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#5c3a1e;font-weight:700;font-size:16px;margin-bottom:5px;display:block}ion-button.btn-custom[_ngcontent-%COMP%]{--background: #76532fd3;--color: white;--border: none;--border-color: transparent;--border-width: 0px;--box-shadow: 0 4px 8px rgba(0, 0, 0, .2);--box-shadow-hover: 0 6px 12px rgba(0, 0, 0, .3);--border-radius: 5px;--padding-top: 10px;--padding-bottom: 10px;font-weight:700;width:100%;margin-top:10px;transition:all .3s ease}ion-button.btn-custom[_ngcontent-%COMP%]:hover{--background: #5c3a1e;transform:translateY(-2px)}.loading-screen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;background:#fff;display:flex;justify-content:center;align-items:center;z-index:9999;opacity:0;visibility:hidden;transition:opacity .5s ease-in-out,visibility .5s ease-in-out}.loading-screen.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.loading-screen[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid rgba(0,0,0,.1);border-left-color:#000;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.mt-3[_ngcontent-%COMP%]{margin-top:1rem}.img-pirata[_ngcontent-%COMP%]{width:200px;height:auto;max-width:100%;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite;display:block;margin:0 auto;pointer-events:none}@media (max-width: 768px){.img-pirata[_ngcontent-%COMP%]{display:block}}@media (max-width: 480px){.img-pirata[_ngcontent-%COMP%]{display:block}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}']});let m=a;return m})();export{U as LoginPage};
